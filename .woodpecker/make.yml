branches: [ master, codeberg-test ]

pipeline:
  build:
    image: ubuntu
    commands: |
      apt-get update && apt-get install -y openjdk-17-jdk libicu-dev libcurl4-openssl-dev libjansson-dev
      ./gradlew gui:build
      ./gradlew text-client:build
      ./gradlew client-java:build
  build-web:
    commands: |
      ./buildsite.sh
  run-tests:
    image: ubuntu
    commands: |
      ./gradlew allTests
